
@url=http://localhost:8000
@access=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJ1c2VybmFtZSI6ImFkbWluIiwicm9sZSI6IlNZU1RFTV9BRE1JTiIsImlhdCI6MTcxMTU3MTQwNCwiZXhwIjoxNzExNTc1MDA0fQ.9ycDx6SqSH6at8pc29S1yMTJk6H-kWqIeZWIGrLN--0

@refesh=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiaWF0IjoxNzExNDg1ODcxLCJleHAiOjE3MTIwOTA2NzF9.yquv251X2ze43Th7BSK0lRZ52BZw5T0gf2W-1M0CY5I

### health
GET {{url}} HTTP/1.1

### Sign in
POST {{url}}/api/auth/login HTTP/1.1
content-type: application/json

{
  "username": "admin",
  "password": "12345678"
}

### Refresh
POST {{url}}/api/auth/refresh-token HTTP/1.1
content-type: application/json

{
  "token": "{{refesh}}"
}


### Sign out
POST {{url}}/api/auth/logout HTTP/1.1
Authorization: {{access}}
content-type: application/json

{
  "token": "{{refesh}}"
}


### test
GET {{url}}/api/users/test HTTP/1.1
Authorization: {{access}}

### profile
GET {{url}}/api/profile HTTP/1.1
Authorization: {{access}}

### add user
POST {{url}}/api/users HTTP/1.1
Authorization : {{access}}
Content-Type: application/json

{
  "username": "test2",
  "email": "test2@xyz.com",
  "password": "12345678",
  "name": "test name"
}

### get all users
GET {{url}}/api/users HTTP/1.1
Authorization: {{access}}

### get all roles
GET {{url}}/api/users/roles HTTP/1.1
Authorization: {{access}}

### update role
PUT {{url}}/api/users/5/roles HTTP/1.1
Authorization: {{access}}
Content-Type: application/json

{
  "role_name": "STS_MANAGER2"
}

###  Create role
POST {{url}}/api/rbac/roles HTTP/1.1
Authorization: {{access}}
Content-Type: application/json

{
  "role_name": "STS_MANAGER2",
  "description": "STS Manager2"
}

### Update role
PUT {{url}}/api/rbac/roles/STS_MANAGER2 HTTP/1.1
Authorization: {{access}}
Content-Type: application/json

{
  "role_name": "STS_MANAGER_U",
  "description": "STS Manager2 udpated"
}

### delete role
DELETE {{url}}/api/rbac/roles/STS_MANAGER2 HTTP/1.1
Authorization: {{access}}

### update user
PUT {{url}}/api/users/5 HTTP/1.1
Authorization: {{access}}
Content-Type: application/json

{
  "username": "test2",
  "email": "test2@xyz.com",
  "name": "test2 name",
  "active": true,
  "banned": false
}

### Create STS
POST {{url}}/api/sts HTTP/1.1
Authorization: {{access}}
Content-Type: application/json

{
  "ward_id": 0,
  "capacity": 0,
  "latitude": 0,
  "longitude": 0
}

### Get all STS
GET {{url}}/api/sts HTTP/1.1
Authorization: {{access}}